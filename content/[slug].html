<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title id="page-title">Loading... - Agent Cory</title>
    <meta name="description" content="" id="page-description" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="shortcut icon" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/favicon.png" />
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/main.css" />
    
    <!-- Icon Libraries -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- OpenGraph meta tags will be populated dynamically -->
    <meta property="og:title" content="" id="og-title" />
    <meta property="og:description" content="" id="og-description" />
    <meta property="og:image" content="" id="og-image" />
    <meta property="og:url" content="" id="og-url" />
    <meta property="og:type" content="article" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXX');
    </script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <a href="/" class="nav-brand">
                    <img src="/Logo_Cory.svg" alt="Agent Cory - AI-Powered Admissions Assistant" class="nav-logo-img" />
                </a>
                
                <button class="nav-toggle" aria-label="Toggle navigation">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/how-it-works.html" class="nav-link">How It Works</a></li>
                    <li><a href="/features.html" class="nav-link">Features</a></li>
                    <li><a href="/roi-and-case-studies.html" class="nav-link">ROI & Cases</a></li>
                    <li><a href="/demo-and-pricing.html" class="nav-link">Demo</a></li>
                    <li><a href="/resources.html" class="nav-link">Resources</a></li>
                    <li><button class="btn btn-primary nav-cta">Try Cory Now</button></li>
                </ul>
            </div>
        </nav>
    </header>

    <main id="main">
        <!-- Loading State -->
        <div id="loading-state" class="loading-container">
            <div class="container">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <p>Loading content...</p>
                </div>
            </div>
        </div>

        <!-- Content Container -->
        <div id="content-container" style="display: none;">
            <!-- Content will be populated dynamically -->
        </div>

        <!-- Error State -->
        <div id="error-state" class="error-container" style="display: none;">
            <div class="container">
                <div class="error-content">
                    <i data-lucide="alert-circle"></i>
                    <h1>Content Not Found</h1>
                    <p>The requested content could not be found or is no longer available.</p>
                    <a href="/resources.html" class="btn btn-primary">Back to Resources</a>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-main">
                <div class="footer-brand">
                    <img src="/src/assets/Logo_DarkMode_AgentCory.svg" alt="Agent Cory" class="footer-logo-img" />
                    <p class="footer-description">AI-powered admissions assistant that boosts conversions with lightning-fast, multi-channel outreach.</p>
                </div>
                
                <div class="footer-column">
                    <h4>Product</h4>
                    <ul>
                        <li><a href="/features.html">Features</a></li>
                        <li><a href="/how-it-works.html">How It Works</a></li>
                        <li><a href="/demo-and-pricing.html">Demo</a></li>
                        <li><a href="/roi-and-case-studies.html">Case Studies</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="/resources.html">Blog</a></li>
                        <li><a href="/resources.html">Guides</a></li>
                        <li><a href="/resources.html">Webinars</a></li>
                        <li><a href="#">Help Center</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                        <li><a href="/terms.html">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-contact">
                <h4>Contact</h4>
                <p>
                    <strong>Phone:</strong> 1-888-465-1991<br>
                    <strong>Email:</strong> cory@agentcory.ai<br>
                    <strong>Address:</strong> 200 Chisholm Pl<br>
                    Plano, TX 75075
                </p>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Agent Cory. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <style>
        /* Content Page Styles */
        .loading-container,
        .error-container {
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 80px;
        }
        
        .loading-content,
        .error-content {
            text-align: center;
            padding: var(--space-8);
        }
        
        .error-content i {
            font-size: 4rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-4);
        }
        
        .content-hero {
            background: var(--gradient-brand);
            padding: var(--space-12) 0 var(--space-8);
            margin-top: 80px;
            color: var(--text-inverse);
            position: relative;
            overflow: hidden;
        }
        
        .content-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }
        
        .content-hero .container {
            position: relative;
            z-index: 2;
        }
        
        .content-breadcrumb {
            margin-bottom: var(--space-3);
        }
        
        .content-breadcrumb a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 0.875rem;
        }
        
        .content-breadcrumb a:hover {
            color: var(--text-inverse);
        }
        
        .content-hero h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--text-inverse);
            margin-bottom: var(--space-3);
            line-height: 1.2;
        }
        
        .content-hero .lead {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: var(--space-4);
            max-width: 600px;
        }
        
        .content-meta-hero {
            display: flex;
            gap: var(--space-4);
            align-items: center;
            flex-wrap: wrap;
        }
        
        .meta-item-hero {
            display: flex;
            align-items: center;
            gap: var(--space-1);
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
        }
        
        .content-main {
            padding: var(--space-10) 0;
        }
        
        .content-layout {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: var(--space-8);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .content-article {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        
        .content-sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }
        
        .sidebar-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        
        .sidebar-card h4 {
            color: var(--midnight-navy);
            margin-bottom: var(--space-3);
            font-size: 1.125rem;
        }
        
        .related-content-item {
            display: flex;
            gap: var(--space-2);
            padding: var(--space-2);
            border-radius: var(--radius);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .related-content-item:hover {
            background: var(--bg-light);
        }
        
        .related-image {
            width: 60px;
            height: 60px;
            border-radius: var(--radius);
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .related-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .related-content-info h5 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--midnight-navy);
            margin-bottom: var(--space-1);
            line-height: 1.3;
        }
        
        .related-content-info p {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin: 0;
        }
        
        /* Article Content Styles */
        .article-content h1,
        .article-content h2,
        .article-content h3,
        .article-content h4 {
            color: var(--midnight-navy);
            margin-top: var(--space-6);
            margin-bottom: var(--space-3);
        }
        
        .article-content h1 {
            font-size: 2.25rem;
            margin-top: 0;
        }
        
        .article-content h2 {
            font-size: 1.875rem;
            border-bottom: 2px solid var(--border);
            padding-bottom: var(--space-2);
        }
        
        .article-content h3 {
            font-size: 1.5rem;
        }
        
        .article-content p {
            line-height: 1.7;
            margin-bottom: var(--space-4);
            color: var(--text-primary);
        }
        
        .article-content ul,
        .article-content ol {
            margin: var(--space-4) 0;
            padding-left: var(--space-4);
        }
        
        .article-content li {
            margin-bottom: var(--space-2);
            line-height: 1.6;
        }
        
        .article-content blockquote {
            background: var(--bg-light);
            border-left: 4px solid var(--sky-gradient-start);
            padding: var(--space-4);
            margin: var(--space-6) 0;
            border-radius: var(--radius);
            font-style: italic;
        }
        
        .article-content code {
            background: var(--bg-light);
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
            font-family: 'Fira Code', monospace;
            font-size: 0.875rem;
        }
        
        .article-content pre {
            background: var(--bg-light);
            padding: var(--space-4);
            border-radius: var(--radius);
            overflow-x: auto;
            margin: var(--space-4) 0;
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .content-hero h1 {
                font-size: 2.25rem;
            }
            
            .content-layout {
                grid-template-columns: 1fr;
                gap: var(--space-4);
            }
            
            .content-sidebar {
                order: -1;
            }
            
            .content-meta-hero {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-2);
            }
        }
    </style>

    <script type="module">
        import { ContentService } from '/src/services/contentService.js'
        import { ContentHelpers } from '/src/utils/contentHelpers.js'

        class ContentPageManager {
          constructor() {
            this.content = null
            this.relatedContent = []
            this.init()
          }

          async init() {
            try {
              const slug = this.getSlugFromURL()
              if (!slug) {
                this.showErrorState()
                return
              }

              await this.loadContent(slug)
              
              if (this.content) {
                await this.loadRelatedContent()
                this.renderContent()
                this.updateSEO()
                await this.trackView()
              } else {
                this.showErrorState()
              }
            } catch (error) {
              console.error('Error initializing content page:', error)
              this.showErrorState()
            }
          }

          getSlugFromURL() {
            const pathParts = window.location.pathname.split('/')
            return pathParts[pathParts.length - 1]?.replace('.html', '') || null
          }

          async loadContent(slug) {
            try {
              this.content = await ContentService.getContentBySlug(slug)
            } catch (error) {
              console.error('Error loading content:', error)
              this.content = null
            }
          }

          async loadRelatedContent() {
            if (!this.content) return

            try {
              this.relatedContent = await ContentService.getRelatedContent(this.content, 4)
            } catch (error) {
              console.error('Error loading related content:', error)
              this.relatedContent = []
            }
          }

          renderContent() {
            if (!this.content) return

            const container = document.getElementById('content-container')
            const loadingState = document.getElementById('loading-state')
            
            if (!container || !loadingState) return

            loadingState.style.display = 'none'
            container.innerHTML = this.createContentHTML()
            container.style.display = 'block'

            this.bindContentEvents()
            
            if (typeof lucide !== 'undefined') {
              lucide.createIcons()
            }
          }

          createContentHTML() {
            if (!this.content) return ''

            const isDownloadable = this.content.content_type === 'ebook' || this.content.download_url
            const isExternal = this.content.content_type === 'webinar' && this.content.external_url

            return `
              <!-- Content Hero -->
              <section class="content-hero">
                <div class="container">
                  <div class="content-breadcrumb">
                    <a href="/resources.html">Resources</a> / 
                    <a href="/resources.html?type=${this.content.content_type}">${this.formatContentType(this.content.content_type)}</a> / 
                    <span>${this.content.title}</span>
                  </div>
                  
                  <div class="content-badge ${this.content.content_type}">${this.formatContentType(this.content.content_type)}</div>
                  <h1>${this.content.title}</h1>
                  <p class="lead">${this.content.excerpt}</p>
                  
                  <div class="content-meta-hero">
                    <div class="meta-item-hero">
                      <i data-lucide="user"></i>
                      <span>${this.content.author_name}</span>
                    </div>
                    <div class="meta-item-hero">
                      <i data-lucide="calendar"></i>
                      <span>${this.formatDate(this.content.published_at)}</span>
                    </div>
                    ${this.content.reading_time_minutes ? `
                      <div class="meta-item-hero">
                        <i data-lucide="clock"></i>
                        <span>${this.content.reading_time_minutes} min read</span>
                      </div>
                    ` : ''}
                    <div class="meta-item-hero">
                      <i data-lucide="eye"></i>
                      <span>${this.content.view_count} views</span>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Content Main -->
              <section class="content-main">
                <div class="container">
                  <div class="content-layout">
                    <article class="content-article">
                      ${this.content.featured_image_url ? `
                        <img src="${this.content.featured_image_url}" alt="${this.content.title}" class="article-featured-image" />
                      ` : ''}
                      
                      ${isDownloadable ? this.createDownloadSection() : ''}
                      ${isExternal ? this.createExternalSection() : ''}
                      
                      <div class="article-content">
                        ${this.convertMarkdownToHTML(this.content.content)}
                      </div>
                      
                      ${this.content.content_type === 'case_study' ? this.createMetricsSection() : ''}
                      
                      <div class="article-footer">
                        <div class="article-tags">
                          ${this.content.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        
                        <div class="article-actions">
                          <button class="btn btn-secondary" onclick="window.print()">
                            <i data-lucide="printer"></i>
                            Print Article
                          </button>
                          <button class="btn btn-secondary" onclick="this.shareContent()">
                            <i data-lucide="share-2"></i>
                            Share
                          </button>
                          <a href="/demo-and-pricing.html" class="btn btn-primary">
                            <i data-lucide="arrow-right"></i>
                            Get Started with Cory
                          </a>
                        </div>
                      </div>
                    </article>
                    
                    <aside class="content-sidebar">
                      ${this.createAuthorCard()}
                      ${this.createTableOfContents()}
                      ${this.createRelatedContent()}
                      ${this.createCTACard()}
                    </aside>
                  </div>
                </div>
              </section>
            `
          }

          createDownloadSection() {
            return `
              <div class="download-section">
                <div class="download-card">
                  <div class="download-icon">
                    <i data-lucide="download"></i>
                  </div>
                  <div class="download-content">
                    <h3>Download This ${this.formatContentType(this.content.content_type)}</h3>
                    <p>Get the complete ${this.content.content_type} as a PDF for offline reading and sharing.</p>
                    <button class="btn btn-primary btn-lg" id="download-content-btn">
                      <i data-lucide="download"></i>
                      Download Now
                    </button>
                  </div>
                </div>
              </div>
            `
          }

          createExternalSection() {
            return `
              <div class="external-section">
                <div class="external-card">
                  <div class="external-icon">
                    <i data-lucide="external-link"></i>
                  </div>
                  <div class="external-content">
                    <h3>Watch This ${this.formatContentType(this.content.content_type)}</h3>
                    <p>Join us for this live presentation and Q&A session.</p>
                    <a href="${this.content.external_url}" target="_blank" class="btn btn-primary btn-lg">
                      <i data-lucide="play"></i>
                      Watch Now
                    </a>
                  </div>
                </div>
              </div>
            `
          }

          createMetricsSection() {
            if (!this.content?.metrics || Object.keys(this.content.metrics).length === 0) {
              return ''
            }

            return `
              <div class="case-study-metrics">
                <h3>Key Results</h3>
                <div class="metrics-grid">
                  ${Object.entries(this.content.metrics).map(([key, value]) => `
            <div class="metric-item">
              <div class="metric-value">${value}</div>
              <div class="metric-label">${this.formatMetricLabel(key)}</div>
            </div>
          `).join('')}
                </div>
              </div>
            `
          }

          createAuthorCard() {
            return `
              <div class="sidebar-card author-card">
                <h4>About the Author</h4>
                <div class="author-info">
                  <div class="author-avatar">
                    <i data-lucide="user"></i>
                  </div>
                  <div class="author-details">
                    <h5>${this.content.author_name}</h5>
                    <p>${this.content.author_title}</p>
                  </div>
                </div>
              </div>
            `
          }

          createTableOfContents() {
            if (!this.content?.content) return ''

            const headings = this.content.content.match(/^#{2,4}\s(.+)$/gm) || []
            
            if (headings.length === 0) return ''

            return `
              <div class="sidebar-card toc-card">
                <h4>Table of Contents</h4>
                <ul class="table-of-contents">
                  ${headings.map(heading => {
                    const level = heading.match(/^#{2,4}/)?.[0].length || 2
                    const text = heading.replace(/^#{2,4}\s/, '')
                    const id = text.toLowerCase().replace(/[^a-z0-9]+/g, '-')
                    return `<li class="toc-item level-${level}"><a href="#${id}">${text}</a></li>`
                  }).join('')}
                </ul>
              </div>
            `
          }

          createRelatedContent() {
            if (this.relatedContent.length === 0) return ''

            return `
              <div class="sidebar-card related-card">
                <h4>Related Content</h4>
                <div class="related-content-list">
                  ${this.relatedContent.map(item => `
            <div class="related-content-item" data-slug="${item.slug}">
              <div class="related-image">
                <img src="${item.featured_image_url || 'https://images.pexels.com/photos/3184360/pexels-photo-3184360.jpeg?auto=compress&cs=tinysrgb&w=200'}" alt="${item.title}" />
              </div>
              <div class="related-content-info">
                <h5>${item.title}</h5>
                <p>${this.formatContentType(item.content_type)} • ${item.reading_time_minutes || 5} min read</p>
              </div>
            </div>
          `).join('')}
                </div>
              </div>
            `
          }

          createCTACard() {
            return `
              <div class="sidebar-card cta-card">
                <div class="cta-content">
                  <div class="cta-icon">
                    <i data-lucide="zap"></i>
                  </div>
                  <h4>Ready to Get Started?</h4>
                  <p>See how Agent Cory can transform your admissions process in just 30 minutes.</p>
                  <a href="/demo-and-pricing.html" class="btn btn-primary btn-full">
                    <i data-lucide="calendar"></i>
                    Book Demo
                  </a>
                </div>
              </div>
            `
          }

          bindContentEvents() {
            const downloadBtn = document.getElementById('download-content-btn')
            if (downloadBtn) {
              downloadBtn.addEventListener('click', () => this.handleDownload())
            }

            document.querySelectorAll('.related-content-item').forEach(item => {
              item.addEventListener('click', () => {
                const slug = item.getAttribute('data-slug')
                if (slug) {
                  window.location.href = `/content/${slug}`
                }
              })
            })

            document.querySelectorAll('.table-of-contents a').forEach(link => {
              link.addEventListener('click', (e) => {
                e.preventDefault()
                const targetId = link.getAttribute('href')?.substring(1)
                const targetElement = document.getElementById(targetId || '')
                if (targetElement) {
                  targetElement.scrollIntoView({ behavior: 'smooth' })
                }
              })
            })
          }

          async handleDownload() {
            if (!this.content) return

            if (this.content.download_url) {
              window.open(this.content.download_url, '_blank')
              return
            }

            console.log('Opening lead magnet form for:', this.content.title)
          }

          updateSEO() {
            if (!this.content) return

            document.title = this.content.seo_title || `${this.content.title} - Agent Cory`
            
            const metaDesc = document.getElementById('page-description')
            if (metaDesc) {
              metaDesc.setAttribute('content', this.content.seo_description || this.content.excerpt)
            }

            const ogTitle = document.getElementById('og-title')
            const ogDescription = document.getElementById('og-description')
            const ogImage = document.getElementById('og-image')
            const ogUrl = document.getElementById('og-url')

            if (ogTitle) ogTitle.setAttribute('content', this.content.title)
            if (ogDescription) ogDescription.setAttribute('content', this.content.excerpt)
            if (ogImage && this.content.featured_image_url) {
              ogImage.setAttribute('content', this.content.featured_image_url)
            }
            if (ogUrl) ogUrl.setAttribute('content', window.location.href)
          }

          async trackView() {
            if (!this.content) return

            try {
              await ContentService.incrementViewCount(this.content.id)
            } catch (error) {
              console.error('Error tracking view:', error)
            }
          }

          convertMarkdownToHTML(content) {
            let html = content
              .replace(/^# (.*$)/gm, '<h1 id="$1">$1</h1>')
              .replace(/^## (.*$)/gm, '<h2 id="$1">$1</h2>')
              .replace(/^### (.*$)/gm, '<h3 id="$1">$1</h3>')
              .replace(/^#### (.*$)/gm, '<h4 id="$1">$1</h4>')
              .replace(/^\* (.*$)/gm, '<li>$1</li>')
              .replace(/^(\d+)\. (.*$)/gm, '<li>$2</li>')
              .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
              .replace(/\*(.*?)\*/g, '<em>$1</em>')
              .replace(/`(.*?)`/g, '<code>$1</code>')
              .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>')
              .replace(/\n\n/g, '</p><p>')
              .replace(/^(.*)$/gm, '<p>$1</p>')
              .replace(/<p><h/g, '<h')
              .replace(/<\/h([1-6])><\/p>/g, '</h$1>')
              .replace(/<p><li>/g, '<ul><li>')
              .replace(/<\/li><\/p>/g, '</li></ul>')
              .replace(/<\/ul>\s*<ul>/g, '')

            // Fix heading IDs for table of contents
            html = html.replace(/<h([2-4]) id="([^"]+)">([^<]+)<\/h[2-4]>/g, (match, level, id, text) => {
              const cleanId = text.toLowerCase().replace(/[^a-z0-9]+/g, '-')
              return `<h${level} id="${cleanId}">${text}</h${level}>`
            })

            return html
          }

          formatContentType(type) {
            const typeMap = {
              blog: 'Blog Post',
              case_study: 'Case Study',
              guide: 'Guide',
              ebook: 'eBook',
              webinar: 'Webinar'
            }
            return typeMap[type] || type
          }

          formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })
          }

          formatMetricLabel(key) {
            return key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())
          }

          showErrorState() {
            const loadingState = document.getElementById('loading-state')
            const errorState = document.getElementById('error-state')
            
            if (loadingState) loadingState.style.display = 'none'
            if (errorState) errorState.style.display = 'block'
          }

          shareContent() {
            if (!this.content) return

            if (navigator.share) {
              navigator.share({
                title: this.content.title,
                text: this.content.excerpt,
                url: window.location.href
              })
            } else {
              navigator.clipboard.writeText(window.location.href).then(() => {
                this.showToast('Link copied to clipboard!', 'success')
              })
            }
          }

          showToast(message, type = 'info') {
            const toast = document.createElement('div')
            toast.className = `toast toast-${type}`
            toast.textContent = message
            toast.style.cssText = `
              position: fixed;
              top: 20px;
              right: 20px;
              padding: 1rem 1.5rem;
              border-radius: 8px;
              box-shadow: var(--shadow-lg);
              z-index: 1001;
              animation: slideInRight 0.3s ease-out;
            `
            
            const colors = {
              success: 'var(--success)',
              error: 'var(--error)',
              info: 'var(--sky-gradient-start)'
            }
            toast.style.background = colors[type]
            toast.style.color = 'white'
            
            document.body.appendChild(toast)
            
            setTimeout(() => {
              toast.style.animation = 'slideOutRight 0.3s ease-out'
              setTimeout(() => toast.remove(), 300)
            }, 4000)
          }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
          new ContentPageManager()
        })

        // Make shareContent available globally
        window.shareContent = function() {
          if (window.contentPageManager) {
            window.contentPageManager.shareContent()
          }
        }
    </script>
    
    <!-- LeadConnector Chat Widget -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>
    <script 
      src="https://beta.leadconnectorhq.com/loader.js"  
      data-resources-url="https://beta.leadconnectorhq.com/chat-widget/loader.js" 
     data-widget-id="68b077f85dff15aa9384c4e9"   > 
     </script>
</body>
</html>